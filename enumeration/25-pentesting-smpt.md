# 25 - Pentesting SMPT

### Nmap

```bash
nmap -sV -script banner 192.80.153.3
```

### smtp-user-enum

```bash
smtp-user-enum -U /usr/share/commix/src/txt/usernames.txt -t 192.80.153.3
```

### Netcat

```bash
# retrieve the hostname of the server (domain name).
nc 192.80.153.3 25 
# commands inside netcat
VRFY admin@openmailbox.xyz # to verify does this user exist or not
```

### Telnet

```bash
# commands used to check the supported commands/capabilities
telnet 192.26.29.3 25
HELO attacker.xyz
EHLO attacker.xyz
# using telnet and send a fake mail to root user.
telnet 192.26.29.3 25
HELO attacker.xyz
mail from: admin@attacker.xyz
rcpt to:root@openmailbox.xyz
data
Subject: Hi Root
Hello,quit
This is a fake mail sent using telnet command.
From,
Admin
.
#There is a dot(.) in the last line which indicates the termination of data
```

### sendemail

```bash
#Send a fake mail to root user using sendemail command.
sendemail -f admin@attacker.xyz -t root@openmailbox.xyz -s 192.26.29.3 -u Fakemail -m "Hi root, a fake from admin" -o tls=no
```
